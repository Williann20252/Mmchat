<!DOCTYPE html><html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MMChat - Entrar</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>MMChat</header>
  <main style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px;">
    <div class="login-box" style="max-width: 400px; width: 100%; background: white; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); padding: 2em;">
      <h2 style="text-align: center; color: #4a90e2;">Bem-vindo ao MMChat</h2><input type="text" id="nickname" placeholder="Digite seu nick (somente anônimo)" style="width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 6px; font-size: 1em;">
  <button onclick="entrarAnonimo()">Entrar como Anônimo</button>

  <hr style="margin: 20px 0;">

  <input type="email" id="email" placeholder="Email Premium" />
  <input type="password" id="senha" placeholder="Senha Premium" />
  <button onclick="loginPremium()">Entrar como Premium</button>
  <div id="status" class="status"></div>
</div>

  </main>  <!-- Firebase SDK -->  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyB3ntpJNvKrUBmoH96NjpdB0aPyDVXACWg",
      authDomain: "mmchat-f4f88.firebaseapp.com",
      projectId: "mmchat-f4f88",
      storageBucket: "mmchat-f4f88.appspot.com",
      messagingSenderId: "404598754438",
      appId: "1:404598754438:web:6a0892895591430d851507"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    function entrarAnonimo() {
      const nick = document.getElementById("nickname").value.trim();
      if (!nick) return alert("Digite um apelido para entrar!");
      localStorage.setItem("nickname", nick);
      localStorage.setItem("premium", "nao");
      window.location.href = "chat.html";
    }

    function loginPremium() {
      const email = document.getElementById('email').value;
      const senha = document.getElementById('senha').value;
      auth.signInWithEmailAndPassword(email, senha)
        .then((userCredential) => {
          localStorage.setItem("uid", userCredential.user.uid);
          localStorage.setItem("premium", "sim");
          const nick = email.split("@")[0];
          localStorage.setItem("nickname", nick);
          window.location.href = "chat.html";
        })
        .catch((error) => {
          document.getElementById("status").textContent = "Erro: " + error.message;
        });
    }
  </script></body>
</html>
